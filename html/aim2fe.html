<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>aim2fe module &mdash; homogenised-finite-elements 0.9.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=39bb1c6d"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="create_loadcases module" href="create_loadcases.html" />
    <link rel="prev" title="pipeline_runner module" href="pipeline_runner.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            homogenised-finite-elements
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html#homogenised-finite-elements-pipeline">Homogenised Finite Elements Pipeline</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pipeline_runner.html">pipeline_runner module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">aim2fe module</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_loadcases.html">create_loadcases module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation.html">simulation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_abaqus.html">write_abaqus module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hfe_accurate_pipeline.html">hfe_accurate_pipeline module</a></li>
<li class="toctree-l2"><a class="reference internal" href="material_mapping.html">material_mapping module</a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing.html">preprocessing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="postprocessing.html">postprocessing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_normals_cortex.html">project_normals_cortex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="struct_voxel_indices.html">struct_voxel_indices module</a></li>
<li class="toctree-l2"><a class="reference internal" href="surface_nets.html">surface_nets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_props_recovery.html">check_props_recovery module</a></li>
<li class="toctree-l2"><a class="reference internal" href="f_decomposition.html">f_decomposition module</a></li>
<li class="toctree-l2"><a class="reference internal" href="imutils.html">imutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="io_utils.html">io_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="odb2vtk_wrapper.html">odb2vtk_wrapper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="print_optim_report.html">print_optim_report module</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_mech_params.html">read_mech_params module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">homogenised-finite-elements</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Getting Started</a></li>
      <li class="breadcrumb-item active">aim2fe module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/aim2fe.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="aim2fe-module">
<h1>aim2fe module<a class="headerlink" href="#aim2fe-module" title="Link to this heading">¶</a></h1>
<p>Converts an AIM file to a HDF5 file.
Adapted from the script from Denis Schenk, ISTB, University of Bern.</p>
<p>Author: Jarunan Panyasantisuk, ETH Scientific IT Services.
Date: 13 November 2018.</p>
<p>Maintained by: Simone Poncioni, ARTORG Center for Biomedical Engineering Research, SITEM Insel, University of Bern
Date: March 2024</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">aim2fe.</span></span><span class="sig-name descname"><span class="pre">aim2fe_psl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aim2fe.html#aim2fe_psl"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Converts AIM image to Abaqus INP file using the provided configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>dict</em>) – Dictionary of configuration parameters.</p></li>
<li><p><strong>sample</strong> (<em>str</em>) – Sample identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If there is an issue with the input types.</p></li>
<li><p><strong>ValueError</strong> – If an unrecognized fabric or meshing type is encountered.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the bone dictionary and the path to the Abaqus INP file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
<p>This function performs the following operations:
1. Sets filenames and reads image parameters.
2. Reads AIM images and image parameters, optionally using multithreading.
3. Adjusts image size if registration is enabled.
4. Saves images with colorbars.
5. Prepares material mapping by calculating BVTV and BMD values.
6. Generates a mesh if the meshing type is “spline”.
7. Computes MSL kernel list based on the fabric type.
8. Maps materials to the mesh.
9. Computes and stores summary and performance variables.
10. Plots MSL fabric if the meshing type is “spline”.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">aim2fe.</span></span><span class="sig-name descname"><span class="pre">save_image_with_colorbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aim2fe.html#save_image_with_colorbar"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Saves an image with a colorbar to the specified output path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>numpy.ndarray</em>) – The image data to be displayed.</p></li>
<li><p><strong>output_path</strong> (<em>str</em>) – The path where the image will be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>This function performs the following operations:
1. Creates a new figure and axis.
2. Displays the image data using a viridis colormap.
3. Sets the title of the image based on the output path.
4. Adds a colorbar to the right of the image.
5. Adjusts the layout to be tight.
6. Saves the figure to the specified output path with a resolution of 300 dpi.
7. Clears the figure to free up memory.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pipeline_runner.html" class="btn btn-neutral float-left" title="pipeline_runner module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="create_loadcases.html" class="btn btn-neutral float-right" title="create_loadcases module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Simone Poncioni.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>